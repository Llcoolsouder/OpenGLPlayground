language: cpp
sudo: required
dist: bionic
compiler:
        - gcc
os: linux

install:
        - sudo apt-get install -y libglew-dev
        - sudo apt-get install -y libglm-dev
        - sudo apt-get install -y libglfw3-dev

script:
        - mkdir build && cd build
        - cmake ..
        - make .
        - cd ..

after_success:
        - doxygen Doxyfile
        - git add -f docs/
        - COMMIT_MESSAGE= >
          "Travis: Updating docs for build #${TRAVIS_BUILD_NUMBER}"
        - git commit -m $COMMIT_MESSAGE
        - REPO="https://llcoolsouder:${GH_TOKEN}@github.com/Llcoolsouder/OpenGLPlayground.git"
        - git push $REPO master
